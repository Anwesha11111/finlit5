<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>FinLit Bot - Financial Literacy AI</title> <style> * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: 'Segoe UI', sans-serif; height: 100vh; display: flex; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); } .sidebar { width: 280px; background: rgba(255,255,255,0.95); backdrop-filter: blur(20px); padding: 20px; box-shadow: 2px 0 20px rgba(0,0,0,0.1); } .new-chat { background: linear-gradient(135deg, #4facfe, #00f2fe); color: white; border: none; padding: 12px 20px; border-radius: 25px; cursor: pointer; width: 100%; margin-bottom: 20px; font-weight: 600; transition: transform 0.2s; } .new-chat:hover { transform: scale(1.02); } .chat-area { flex: 1; display: flex; flex-direction: column; max-width: calc(100vw - 300px); } .messages { flex: 1; overflow-y: auto; padding: 20px; } .message { margin-bottom: 20px; display: flex; gap: 12px; } .user { flex-direction: row-reverse; } .avatar { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; } .user .avatar { background: linear-gradient(135deg, #ff6b6b, #feca57); color: white; } .bot .avatar { background: linear-gradient(135deg, #48dbfb, #0abde3); color: white; } .bubble { max-width: 70%; padding: 16px 20px; border-radius: 20px; background: white; box-shadow: 0 4px 12px rgba(0,0,0,0.1); word-wrap: break-word; } .user .bubble { background: linear-gradient(135deg, #667eea, #764ba2); color: white; } .input-area { padding: 20px; background: white; border-top: 1px solid #eee; } .input-container { display: flex; gap: 10px; align-items: center; } #userInput { flex: 1; padding: 15px 20px; border: 2px solid #eee; border-radius: 25px; font-size: 16px; outline: none; transition: border 0.2s; } #userInput:focus { border-color: #667eea; } .send-btn, .upload-btn { width: 50px; height: 50px; border: none; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; transition: transform 0.2s; } .send-btn { background: linear-gradient(135deg, #4facfe, #00f2fe); color: white; } .upload-btn { background: #f0f0f0; color: #666; } .send-btn:hover, .upload-btn:hover { transform: scale(1.05); } .send-btn:disabled { opacity: 0.5; cursor: not-allowed; } .chips { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 20px; } .chip { background: rgba(255,255,255,0.7); padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: all 0.2s; } .chip:hover { background: #667eea; color: white; } a { color: #4facfe; text-decoration: none; font-weight: 600; } .typing { display: inline-block; animation: pulse 1.5s ease-in-out infinite; } @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } } @media (max-width: 768px) { .sidebar { width: 100%; height: auto; position: absolute; z-index: 10; } .chat-area { max-width: 100%; } } </style> </head> <body> <div class="sidebar"> <button class="new-chat" onclick="newChat()">+ New Chat</button> <div class="chips"> <div class="chip" onclick="quickMessage('How to open savings account in India?')">Savings Account</div> <div class="chip" onclick="quickMessage('What is SIP investment?')">SIP</div> <div class="chip" onclick="quickMessage('How to check CIBIL score?')">CIBIL Score</div> <div class="chip" onclick="quickMessage('Income tax filing steps')">Income Tax</div> </div> </div> <div class="chat-area"> <div class="messages" id="messages"> <div class="message bot"> <div class="avatar">ü§ñ</div> <div class="bubble"> Hi! I'm FinLit Bot. Ask me about banking, investments, taxes, or any financial topic.<br> Try: "How to open savings account?" </div> </div> </div> <div class="input-area"> <div class="input-container"> <button class="upload-btn" title="Upload document">üìé</button> <input type="text" id="userInput" placeholder="Ask about finance... (e.g., SIP, KYC, taxes)"> <button class="send-btn" id="sendBtn" onclick="sendMessage()">‚û§</button> </div> </div> </div> <script> const messagesEl = document.getElementById('messages'); const userInput = document.getElementById('userInput'); const sendBtn = document.getElementById('sendBtn'); let typingDiv = null; function addMessage(role, content) { const div = document.createElement('div'); div.className = message ${role}; div.innerHTML = <div class="avatar">${role === 'user' ? 'üë§' : 'ü§ñ'}</div> <div class="bubble">${content}</div> ; messagesEl.appendChild(div); messagesEl.scrollTop = messagesEl.scrollHeight; } async function sendMessage() { const message = userInput.value.trim(); if (!message) return; // Disable input sendBtn.disabled = true; userInput.disabled = true; addMessage('user', message); userInput.value = ''; // Show typing animation typingDiv = document.createElement('div'); typingDiv.className = 'message bot'; typingDiv.innerHTML = '<div class="avatar">ü§ñ</div><div class="bubble"><span class="typing">Typing...</span></div>'; messagesEl.appendChild(typingDiv); messagesEl.scrollTop = messagesEl.scrollHeight; try { // Call Render AI directly (with CORS fix) const res = await fetch('https://finlitbotapi.onrender.com/api/chat', { method: 'POST', headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' }, mode: 'cors', body: JSON.stringify({ message }) }); if (!res.ok) { throw new Error(Server error: ${res.status}); } const data = await res.json(); if (typingDiv) { messagesEl.removeChild(typingDiv); typingDiv = null; } // Format response with sources let responseHtml = data.response || 'No response received'; if (data.sources && data.sources.length > 0) { responseHtml += <br><br><strong>üìö Sources:</strong><br>; responseHtml += data.sources.map(s => <a href="${s}" target="_blank">${s}</a>).join(' | '); } addMessage('bot', responseHtml); } catch (error) { console.error('Error:', error); if (typingDiv) { messagesEl.removeChild(typingDiv); typingDiv = null; } addMessage('bot', ‚ùå Connection error: ${error.message}<br><br>Please check:<br>‚Ä¢ AI service is running<br>‚Ä¢ CORS enabled on Render<br>‚Ä¢ Try again in a moment); } finally { // Re-enable input sendBtn.disabled = false; userInput.disabled = false; userInput.focus(); } } function quickMessage(msg) { userInput.value = msg; sendMessage(); } function newChat() { messagesEl.innerHTML = ''; addMessage('bot', '‚ú® New chat started! Ask me anything about finance.'); } userInput.addEventListener('keypress', e => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); } }); // Auto-focus input on load window.onload = () => userInput.focus(); </script> </body> </html>
